"use strict";var _express=require("express"),_express2=_interopRequireDefault(_express),_mongoose=require("mongoose"),_mongoose2=_interopRequireDefault(_mongoose),_path=require("path"),_path2=_interopRequireDefault(_path),_keys=require("./keys"),_keys2=_interopRequireDefault(_keys),_bodyParser=require("body-parser"),_bodyParser2=_interopRequireDefault(_bodyParser),_helmet=require("helmet"),_helmet2=_interopRequireDefault(_helmet),_cors=require("cors"),_cors2=_interopRequireDefault(_cors),_studentRoute=require("./Students/studentRoute"),_studentRoute2=_interopRequireDefault(_studentRoute),_classRoute=require("./Classes/classRoute"),_classRoute2=_interopRequireDefault(_classRoute),_projectsRoute=require("./projects/projectsRoute"),_projectsRoute2=_interopRequireDefault(_projectsRoute),_userRoute=require("./Users/userRoute.js"),_userRoute2=_interopRequireDefault(_userRoute),_loginRoute=require("./login/loginRoute.js"),_loginRoute2=_interopRequireDefault(_loginRoute),_chargeRoute=require("./charge/chargeRoute.js"),_chargeRoute2=_interopRequireDefault(_chargeRoute);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var Server=(0,_express2.default)(),staticFiles=_express2.default.static(_path2.default.join(__dirname,"../../front-end/build"));Server.use((0,_cors2.default)()),Server.use((0,_helmet2.default)()),Server.use(_bodyParser2.default.json()),Server.use(staticFiles);var port=process.env.PORT||4e3;_mongoose2.default.connect(_keys2.default.mongodb.dbURL,{useNewUrlParser:!0}).then(function(){}).catch(function(){}),Server.use("api/classes",_classRoute2.default),Server.use("api/projects",_projectsRoute2.default),Server.use("api/users",_userRoute2.default),Server.use("api/login",_loginRoute2.default),Server.use("api/charge",_chargeRoute2.default),Server.use("api/students",_studentRoute2.default),Server.get("*",function(a,b){b.sendFile(_path2.default.join(__dirname,"../../front-end/build/index.html"))}),Server.listen(port,function(){});