'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _regenerator=require('babel-runtime/regenerator'),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=require('babel-runtime/helpers/asyncToGenerator'),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_axios=require('axios'),_axios2=_interopRequireDefault(_axios);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var getTeamNames=function(a,b){for(var c,d=[],e={},f=a.length-1;0<=f;f--)c=a[f].login,!1==c in e&&(e[c]={},e[c].github=c,e[c].merges=0,e[c].trellos=0),d.push(_axios2.default.get('https://api.github.com/users/'+c,b));return{logins:e,requests:d}},getPullRequestMergeCount=function(a,b){for(var f=b.length-1;0<=f;f--){var c=b[f],d=c.merged_at,e=c.user;null!==d&&e.login in a&&(a[e.login].merges+=1)}return a},rebuildTeamObject=function(){var a=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function a(b,c){var d,e,f,g,h;return _regenerator2.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_axios2.default.all(c);case 2:if(d=a.sent,e={},d)for(g in f=0,b)h=d[f].data.name,e[h]=b[g],f++;return a.abrupt('return',e);case 6:case'end':return a.stop();}},a,void 0)}));return function(){return a.apply(this,arguments)}}();exports.default=function(){var a=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function a(b,c,d){var e,f,g,h;return _regenerator2.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=getTeamNames(b,d),f=e.logins,g=e.requests,h=getPullRequestMergeCount(f,c),a.next=4,rebuildTeamObject(h,g);case 4:return a.abrupt('return',a.sent);case 5:case'end':return a.stop();}},a,void 0)}));return function(){return a.apply(this,arguments)}}();