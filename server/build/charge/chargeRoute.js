"use strict";var _express=require("express"),_express2=_interopRequireDefault(_express),_userModel=require("../Users/userModel.js"),_userModel2=_interopRequireDefault(_userModel),_authJWT=require("../MiddleWare/authJWT.js"),_authJWT2=_interopRequireDefault(_authJWT);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var router=_express2.default.Router(),stripe=require("stripe")("sk_test_4uTrPeq8JDUTDumv8qDek87x");router.get("/",_authJWT2.default,function(a,b){b.send("you are on the charge page")}),router.post("/",function(a,b){var c=a.body.token;c||b.send("there is no token"),stripe.customers.create({email:a.body.email,source:a.body.token}).then(function(a){stripe.charges.create({amount:2000,description:"trip",currency:"usd",customer:a.id})}).then(function(){b.send("success")})}),module.exports=router;