'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _BatchRequests=require('./BatchRequests'),_BatchRequests2=_interopRequireDefault(_BatchRequests);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d('next',a)},function(a){d('throw',a)})}return d('next')})}}exports.default=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(b,c){var d,e,f,g,h,i,j,k;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.body.repository,a.next=3,(0,_BatchRequests2.default)(d);case 3:e=a.sent,f=e.project,g=e.team,h=e.trello,i=e.totalCards,j=e.inProgress,k=e.completeness,e?c.status(200).json({project:f,team:g,trello:h,totalCards:i,inProgress:j,completeness:k}):c.send(!1);case 6:case'end':return a.stop();}},a,void 0)}));return function(){return a.apply(this,arguments)}}();