"use strict";var _express=require("express"),_express2=_interopRequireDefault(_express),_studentModel=require("./studentModel.js"),_studentModel2=_interopRequireDefault(_studentModel),_jwtMiddleWare=require("../MiddleWare/jwtMiddleWare.js"),_middleWare=require("../MiddleWare/middleWare.js"),_authJWT=require("../MiddleWare/authJWT.js"),_authJWT2=_interopRequireDefault(_authJWT);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var router=_express2.default.Router();router.get("/",_authJWT2.default,function(a,b){_studentModel2.default.find({}).populate("className","-_id").populate("project","-_id").then(function(a){b.status(200).json({students:a})}).catch(function(a){b.status(500).json({msg:a})})}),router.post("/",_authJWT2.default,function(a,b){var c=a.body,d=(0,_studentModel2.default)(c);d.save().then(function(){b.status(200).json({newStudent:d})}).catch(function(a){b.status(200).json({msg:"... not able to post your student",error:a})})}),router.put("/:id",_authJWT2.default,function(a,b){var c=a.params.id,d=a.body;_studentModel2.default.findByIdAndUpdate(c,d,{new:!0}).then(function(a){b.status(200).json({msg:"user updated successfully",p:a})}).catch(function(){b.status(500).json({msg:"... not able to update your user"})})}),router.get("/:id",_authJWT2.default,function(a,b){var c=a.params.id;_studentModel2.default.findById(c).populate("className","-_id").populate("project","-_id").then(function(a){b.status(200).json(a)}).catch(function(){b.status(500).json({msg:"we cant display expenses "})})}),router.delete("/:id",_authJWT2.default,function(a,b){var c=a.params.id;_studentModel2.default.findById(c).remove().then(function(){b.status(200).json({msg:"...student  successfully deleted"})}).catch(function(){b.status(200).json({msg:"... not able to  delete student"})})}),module.exports=router;