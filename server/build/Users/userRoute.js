"use strict";var _express=require("express"),_express2=_interopRequireDefault(_express),_userModel=require("./userModel.js"),_userModel2=_interopRequireDefault(_userModel),_jwtMiddleWare=require("../MiddleWare/jwtMiddleWare.js"),_middleWare=require("../MiddleWare/middleWare.js");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var router=_express2.default.Router();router.get("/",function(a,b){_userModel2.default.find({}).then(function(a){b.status(200).json({users:a})}).catch(function(a){b.status(500).json({msg:a})})}),router.post("/",_middleWare.userEmpty,function(a,b){var c=a.body,d=(0,_userModel2.default)(c);d.save().then(function(){var a=(0,_jwtMiddleWare.makeToken)(d);b.status(200).json({token:a,newUser:d})}).catch(function(a){b.status(200).json({msg:"... not able to post your user",error:a})})}),router.put("/:id",function(a,b){var c=a.params.id,d=a.body;_userModel2.default.findByIdAndUpdate(c,d,{new:!0}).then(function(a){b.status(200).json({msg:"user updated successfully",p:a})}).catch(function(){b.status(500).json({msg:"... not able to update your user"})})}),router.delete("/:id",function(a,b){var c=a.params.id;_userModel2.default.findById(c).remove().then(function(){b.status(200).json({msg:"...user  successfully deleted"})}).catch(function(){b.status(200).json({msg:"... not able to  delete user"})})}),module.exports=router;