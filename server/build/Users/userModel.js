"use strict";var mongoose=require("mongoose"),bcrypt=require("bcrypt"),Schema=mongoose.Schema,definition={name:{type:String,required:!0},email:{type:String,required:!0},password:{type:String,required:!0},subscribed:{type:Boolean,default:!1},subscribedDate:{type:Date,default:null}},options={timestamps:!0},userSchema=new Schema(definition,options);userSchema.pre("save",function(a){var b=this;bcrypt.hash(this.password,11).then(function(c){b.password=c,a()}).catch(function(b){a(b)})}),userSchema.methods.checkPassWord=function(a){return bcrypt.compare(a,this.password)};var userModel=mongoose.model("User",userSchema);module.exports=userModel;